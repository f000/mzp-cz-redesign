//
// Part of MZP.CZ Redesign Project
// @author Lukas Vorlicek <lukas.vorlicek@codeart.cz>
// @copyright Copyright (c) 2014 Ministry of the Environment of the Czech Republic
// @licence CC BY-NC-ND 3.0 CZ
// --------------------------------------------------

.main-menu{
  list-style-type: none;
  margin: 0 $grid-gutter-width 0 0;
  padding-left: 0;
  > li{
    display: inline-block;
    > a, > a:visited{
      color:$gray-dark;
      display:block;
      border-right:1px solid $green-border;
      padding: 0 1em 0 0;
      margin:0 1em 0 0;
      @extend .icomoon;
      @extend .icon-bar;
      font-family: $font-family-sans-serif;

      &:before {
        font-family: 'icomoon';
        font-size:$icomoon-bar-fontsize;
      	position: absolute;
        margin-top:-33px;
        font-weight:400;
        color:$brand-green3;
        display:none;
      }
      &:hover,&:focus{
        color:$brand-green3;
        text-decoration:none;
        outline:0;
        &:before {
          display:block;
        }
      }
    }
    &:last-child{
      > a, >a:visited{
        border-right:0;
        padding:0;
      }
    }
    &.active a, &.active a:visited{
      color:$brand-green3;
      &:before {
        display:block;
      }
    }
  }
  div{
    position:absolute;
    margin-top:18px;
    display:none;
    z-index:100;
    
    border:1px solid $bg-gray2;
    background-color:#fff;
    text-align:left;
    &:before{
      position:absolute;
      content:"";
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 0 10px 10px 10px;
      border-color: transparent transparent $bg-gray2 transparent;
      margin:-11px 0 0 13px;
    }
    a,a:visited{
      white-space:nowrap;
      color:$gray-medium;
      display:block;
      padding:4px $grid-gutter-width/2;
      border-bottom:1px solid $bg-gray2;
      font-weight:400;
      &:hover{
        background-color:$bg-gray3;
        color:$brand-green3;
      }
    }

    li:last-child a,li:last-child a:visited{
   
    }
    li:hover,
    li.active a, li.active a:visited{
      background-color:$bg-gray3;
      color:$brand-green3;
    }
    ul{
      list-style-type: none;
      background-color:$bg-white;
      padding-left: 0;
      ul{
        position:absolute;
        display:none;
        top: -1px; 
        background-color:$bg-gray3;
        margin-left:100%;
        min-width:131px;

        a,a:visited{
          white-space:nowrap;
          color:$gray-medium;
          display:block;
          padding:3px $grid-gutter-width/2;
          font-weight:400;
          &:hover{
            background-color:$bg-gray1;
            color:$brand-green3;
          }
        }
      }

    }
  }
}

.no-js .main-menu{
  > li:hover{
    div{
      display:block;
    }
  }
  div{
    ul{
      li:hover ul{
        display:block;
        position:absolute;
        left:100%;
        top:0;
      }
    }
  }
}

